(function() {
    // BLOK CSS LENGKAP
    const gavanThemeStyles = `
        @import url("https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css");
        .input-group-text { background-color: #2c3e50; border-color: #34495e; color: #00eaff; }
        .alert.themed-alert-danger { background: linear-gradient(145deg, #a73c2e, #c0392b) !important; border: 1px solid #e74c3c !important; color: #fff !important; box-shadow: 0 0 15px rgba(231, 76, 60, 0.6); border-radius: 8px; text-shadow: 0 1px 3px rgba(0,0,0,0.4); }
        .alert.themed-alert-danger strong { color: #fff !important; }
        .alert.themed-alert-danger a { color: #ffd700 !important; font-weight: bold; }
        .togel-countdown-timer.show-warning-text { position: relative; font-size: 0 !important; -webkit-user-select: none; -ms-user-select: none; user-select: none; }
        .togel-countdown-timer.show-warning-text::before { content: "SEGERA TUTUP"; position: absolute; inset: 0; color: #FFD700 !important; text-shadow: 0 0 5px #FFD700; font-weight: bold; white-space: nowrap; font-size: 0.75rem; display: flex; align-items: center; justify-content: center; transform: translateY(-5px); }
        .custom-header-wrapper { display: flex; align-items: center; width: 100%; }
        .home-link-fixed { flex-shrink: 0; margin-right: 20px; }
        .scrollable-menu-container { flex-grow: 1; overflow: hidden; min-width: 0; }
        .scrollable-menu-container .other-items-carousel .item { width: auto; padding: 0 5px; }
        .togel-countdown-timer.is-closed { color: #e74c3c !important; text-shadow: 0 0 5px rgba(192, 57, 43, 0.7); font-weight: bold; }
        #carousel-togel .owl-stage-outer { max-height: 495px; overflow: hidden; transition: max-height 0.5s ease-in-out; border-radius: 0 0 15px 15px; }
        @media (min-width: 768px) { #carousel-togel .owl-stage-outer { max-height: 315px; } }
        #carousel-togel.show-all .owl-stage-outer { max-height: 2500px; }
        .show-more-wrapper { display: flex; justify-content: center; }
        .show-more-button { background: none !important; border: none !important; box-shadow: none !important; color: #00eaff !important; text-align: center; margin-top: 15px !important; padding: 5px !important; cursor: pointer; font-weight: 700; text-transform: uppercase; transition: all .3s ease; }
        .show-more-button:hover { color: #fff !important; text-shadow: 0 0 10px #00eaff; }
        #maincontent h1.text-center { color: #FFD700 !important; text-transform: uppercase !important; margin-top: 1.5rem !important; margin-bottom: 1rem !important; text-shadow: 0 0 10px rgba(255, 215, 0, 0.6); }
        .togel-countdown-timer.closing-soon { color: #FFD700 !important; text-shadow: 0 0 5px #FFD700; font-weight: bold; }
        #maincontent .nav-tabs .nav-link { border-radius: 8px 8px 0 0 !important; } .copy-btn{background-color:rgba(0,170,255,.1)!important;color:#00eaff!important;border:1px solid #00aaff!important;padding:2px 10px!important;font-size:.8em!important;transition:all .3s ease}.copy-btn:hover{background-color:rgba(0,170,255,.3)!important;color:#fff!important}.copy-btn.copy-btn-success{background-color:rgba(46,204,113,.2)!important;color:#2ecc71!important;border-color:#27ae60!important}#receiver-bank-label i,#receiver-number-label i,#receiver-name-label i{margin-right:8px}#maincontent .nav-tabs{border-bottom:1px solid #00aaff!important}#maincontent .nav-tabs .nav-link{background-color:transparent!important;border:1px solid transparent!important;border-bottom:none!important;color:#bdc3c7!important}#maincontent .nav-tabs .nav-link.active{background-color:#1a252f!important;border-color:#00aaff!important;color:#fff!important}body{background-color:#0c0c1e!important;font-family:'Exo 2',sans-serif!important}.form-label{color:#ecf0f1!important;text-shadow:0 0 5px #00aaff}.form-control,.form-select{background-color:#1a252f!important;border:1px solid #34495e!important;color:#fff!important;border-radius:5px;transition:all .3s ease}.form-control:focus,.form-select:focus{border-color:#bdc3c7!important;box-shadow:0 0 10px rgba(189,195,199,.8)!important}.btn-primary{background:linear-gradient(45deg,#0077ff,#00eaff)!important;border:none!important;color:#fff!important;font-weight:700;text-transform:uppercase;box-shadow:0 0 10px #00eaff,inset 0 0 5px rgba(255,255,255,.4);transition:all .3s ease}.btn-primary:hover{transform:scale(1.05);box-shadow:0 0 20px #00eaff,0 0 30px #0077ff,inset 0 0 5px rgba(255,255,255,.4)}.btn-secondary{background:linear-gradient(45deg,#ffd700,#ffa500)!important;border-color:#ffd700!important;color:#2c3e50!important;font-weight:700;text-transform:uppercase;box-shadow:0 0 10px #ffd700,inset 0 0 5px rgba(255,255,255,.7);transition:all .3s ease}.btn-secondary:hover{transform:scale(1.05);background:linear-gradient(45deg,#ffdf33,#ffb01a)!important;box-shadow:0 0 20px #ffd700,0 0 30px #ffa500,inset 0 0 5px rgba(255,255,255,.8)}.btn-danger{background:linear-gradient(45deg,#e74c3c,#c0392b)!important;border:none!important;color:#fff!important;font-weight:700;text-transform:uppercase;box-shadow:0 0 10px #e74c3c,inset 0 0 5px rgba(255,255,255,.4);transition:all .3s ease}.btn-danger:hover{transform:scale(1.05);box-shadow:0 0 20px #e74c3c,0 0 30px #c0392b,inset 0 0 5px rgba(255,255,255,.4)}nav#navbar-top.navbar.bg-dark{background-color:#1a252f!important;border-bottom:1px solid #00aaff!important;box-shadow:0 2px 10px rgba(0,170,255,.3)!important}button#sidebarCollapse{background:0 0!important;border:none!important}button#sidebarCollapse i{color:#ecf0f1!important;transition:all .3s ease}button#sidebarCollapse:hover i{color:#00eaff!important;text-shadow:0 0 10px #00eaff}nav#sidebar{background-color:#1a252f!important;border-right:1px solid #00aaff!important;box-shadow:2px 0 10px rgba(0,170,255,.3)!important}#sidebar .d-flex[style*="background-image"]{background-image:none!important;background-color:#2c3e50!important;border-bottom:2px solid #00aaff;box-shadow:0 2px 5px rgba(0,170,255,.2)}#sidebar .nav-link{color:#ecf0f1!important;border-radius:5px;transition:all .3s ease;border-left:3px solid transparent;margin:0;padding:.4rem 1rem!important}#sidebar .nav-link:hover,#sidebar .nav-item.active .nav-link{background-color:rgba(0,170,255,.1)!important;color:#00eaff!important;border-left-color:#00eaff}#sidebar hr{border-top:1px solid #34495e;margin:.5rem 1rem}#sidebar > .d-flex.justify-content-between.p-3{display:none!important}.gaban-profile-icon{width:36px;height:36px}#custom-sidebar-toggle{position:fixed!important;top:20px!important;left:255px!important;transform:none!important;z-index:99999!important;font-size:2.5rem!important;color:#00eaff!important;text-shadow:0 0 10px #00eaff!important;transition:all .4s ease!important;text-decoration:none!important;display:none}#custom-sidebar-toggle.show{display:block!important;opacity:1!important;visibility:visible!important}#custom-sidebar-toggle:hover{color:#fff!important;transform:scale(1.1)!important}#gacor-game-sidebar h5{color:#ecf0f1;text-transform:uppercase;font-weight:700;text-shadow:0 0 8px rgba(0,170,255,.7);border-bottom:1px solid #34495e;padding-bottom:10px;margin-bottom:15px;font-size:1rem}#gacor-game-sidebar h5 i{color:#00eaff;margin-right:8px}.gacor-card-container{display:grid;gap:10px}.gacor-card{display:flex;align-items:center;text-decoration:none;background:linear-gradient(145deg,#2c3e50,#1a252f);border:1px solid #00aaff;border-radius:10px;padding:10px;transition:all .3s ease}.gacor-card:hover{transform:translateY(-3px);box-shadow:0 3px 15px rgba(0,170,255,.5)}.gacor-card img{width:70px;height:70px;border-radius:8px;margin-right:10px;flex-shrink:0}.gacor-info{flex:1;min-width:0}.gacor-info strong{color:#fff;font-size:.9em;display:block}.gacor-time{font-size:.75em;color:#bdc3c7;opacity:.8}.gacor-time i{color:#00eaff}.gacor-card-placeholder{text-align:center;padding:20px;color:#bdc3c7;background:rgba(0,0,0,.2);border-radius:10px;border:1px dashed #34495e}#row-quicklogin.card,#maincontent .card.shadow{background:linear-gradient(145deg,#2c3e50,#1a252f)!important;border:1px solid #00aaff!important;box-shadow:0 0 20px rgba(0,170,255,.6)!important;border-radius:15px!important}#maincontent .card.shadow h1,#maincontent .card.shadow h3,#maincontent .card.shadow h4{color:#ecf0f1!important;text-shadow:0 0 8px rgba(0,170,255,.7)!important;text-transform:uppercase;font-weight:700}#maincontent .card.shadow h3{border-bottom:1px solid #34495e;padding-bottom:15px;margin-bottom:25px}#maincontent .card.shadow a{color:#00eaff!important;text-decoration:none;transition:all .3s ease}#maincontent .card.shadow a:hover{color:#fff!important;text-shadow:0 0 10px #00eaff}.form-label i.bi{margin-right:8px;vertical-align:-2px}.btn-custom-promo{display:flex!important;align-items:center!important;justify-content:center!important;padding:10px 15px!important;font-size:1em!important;font-weight:700!important;text-transform:uppercase!important;color:#fff!important;border:none!important;border-radius:8px!important;background:linear-gradient(90deg,#0077ff,#0055cc)!important;box-shadow:0 0 15px rgba(0,119,255,.5),inset 0 0 5px rgba(255,255,255,.3);transition:all .3s ease;text-decoration:none}.btn-custom-promo:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 5px 25px rgba(0,119,255,.7),0 0 30px rgba(0,234,255,.5),inset 0 0 8px rgba(255,255,255,.5);color:#e0f7ff!important;background:linear-gradient(90deg,#0099ff,#0066ff)!important}.btn-custom-promo i.bi{margin-right:10px;font-size:1.1em}#row-togel > .d-flex,.d-flex.justify-content-between{justify-content:center!important}#row-togel h3,h3.my-2,.my_5 > h3.text-center{color:#ecf0f1!important;text-shadow:0 0 8px rgba(0,170,255,.7);text-transform:uppercase}#row-togel h3 a,h3.my-2 a{color:inherit!important;text-decoration:none!important;transition:color .3s ease}#row-togel h3 a:hover,h3.my-2 a:hover{color:#00eaff!important}.d-flex.justify-content-between > a{display:none!important}h3.my-2 i.bi,.my_5 > h3.text-center i.bi{margin-right:10px;vertical-align:-1px}#maincontent .alert.alert-primary,.modal-body .alert.alert-warning{background:linear-gradient(160deg,#2c3e50,#1a252f)!important;border:1px solid #00aaff!important;border-radius:10px!important;color:#ecf0f1!important;box-shadow:0 0 15px rgba(0,170,255,.5)}#maincontent .alert.alert-primary h4,#maincontent .alert.alert-primary span,.modal-body .alert.alert-warning small,.modal-body .alert.alert-warning strong{color:#ecf0f1!important}#maincontent .alert.alert-primary .fw-bold{color:#fff!important}.table{color:#ecf0f1!important;border-color:#34495e!important}.table th,.table td{background-color:transparent!important;border-color:#34495e!important}.table thead{border-color:inherit}.table thead th{background-color:rgba(0,170,255,.1)!important;border-bottom:2px solid #00aaff!important}.table a{color:#00eaff!important;text-decoration:none!important}.table a:hover{color:#fff!important}#carousel-togel .owl-stage{display:grid!important;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:15px;transform:none!important;width:100%!important}#carousel-togel .owl-item{width:auto!important;margin-right:0!important}#carousel-togel .card,.row.g-3 .card{background:linear-gradient(160deg,#2c3e50,#1a252f)!important;border:1px solid #00aaff!important;border-radius:15px!important;box-shadow:0 0 15px rgba(0,170,255,.5)!important;transition:transform .3s ease,box-shadow .3s ease;width:100%!important;font-family:'Exo 2',sans-serif!important}#carousel-togel .card:hover,.row.g-3 .card:hover{transform:translateY(-5px) scale(1.03);box-shadow:0 5px 25px rgba(0,170,255,.7)!important}@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}#carousel-togel .card,.row.g-3 .card{animation:fadeIn .6s ease-out forwards}#carousel-togel .card-body > .text-center > div:first-child,.row.g-3 .card-body > .text-center > div:first-child{color:#bdc3c7;font-size:.8em!important}#carousel-togel .card h2,.row.g-3 .card h2{background:0 0!important;margin:8px 0!important;font-size:2.2em!important}#carousel-togel .card h2 a,.row.g-3 .card h2 a{color:#fff!important;text-shadow:0 0 6px #fff,0 0 18px rgba(236,240,241,.7);letter-spacing:2px}#carousel-togel .card .togel-countdown-timer,.row.g-3 .card .togel-countdown-timer{color:#00eaff;opacity:.8}.owl-nav,.owl-dots{display:none!important}.glassmorphism{background:linear-gradient(145deg,#2c3e50,#1a252f)!important;border:1px solid #00aaff!important;box-shadow:0 0 10px rgba(0,170,255,.4)!important;backdrop-filter:none!important;transition:all .3s ease}.glassmorphism:hover{transform:translateY(-5px);box-shadow:0 5px 20px rgba(0,170,255,.6)!important}.glassmorphism a img{max-height:25px!important;width:auto!important;max-width:80%!important}#selectProvider .btn-outline-primary{display:flex!important;align-items:center!important;justify-content:center!important;background-color:transparent;border:1px solid #00aaff;color:#00eaff;transition:all .3s ease;border-radius:8px}#selectProvider .btn-outline-primary:hover{background-color:rgba(0,170,255,.2);color:#fff;box-shadow:0 0 10px rgba(0,170,255,.5)}#selectProvider .btn-outline-primary.active{background:linear-gradient(45deg,#0077ff,#00eaff)!important;border-color:#00eaff!important;color:#fff!important;box-shadow:0 0 15px #00eaff}.row.g-1 [class*=col-] > a,.row.g-1 [class*=col-] > div > a{display:block;border-radius:8px!important;overflow:hidden;border:1px solid transparent;transition:all .3s ease;line-height:0}.row.g-1 [class*=col-] > a:hover,.row.g-1 [class*=col-] > div > a:hover{border-color:#00aaff;box-shadow:0 0 15px rgba(0,170,255,.6);transform:scale(1.05);z-index:10;position:relative}.row.mb-3.g-1 [class*=col-] > a:hover,.row.mb-3.g-1 [class*=col-] > a:focus{border-color:transparent!important;box-shadow:none!important;outline:0!important}.glassmorphism a:hover,.glassmorphism a:focus{border-color:transparent!important;box-shadow:none!important;outline:0!important;transform:none!important;z-index:auto!important}.modal-content{background:linear-gradient(145deg,#2c3e50,#1a252f)!important;border:1px solid #00aaff!important;border-radius:15px!important}.modal-header,.modal-header.bg-danger{background-color:#1a252f!important;border-bottom:1px solid #00aaff!important;border-top-left-radius:15px;border-top-right-radius:15px}.modal-title{color:#ecf0f1!important;text-shadow:0 0 8px rgba(0,170,255,.7)!important;font-size:1rem!important;padding-right:1rem;text-transform:uppercase}.modal-title i.bi{margin-right:8px;vertical-align:-2px;color:#00eaff;text-shadow:0 0 5px #00eaff}.modal-header .btn-close{background:transparent url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%2300eaff'%3e%3cpath d='M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414z'/%3e%3c/svg%3e") center/1em auto no-repeat!important;opacity:.8!important;transition:all .3s ease}.modal-header .btn-close:hover{opacity:1!important;transform:scale(1.2) rotate(90deg)}.modal-body .row,.modal-body .text-muted{color:#bdc3c7!important}.modal-body .col-12.text-center > strong{color:#ffd700!important;text-shadow:0 0 8px #ffa500;font-size:1.1rem;line-height:1.2;display:block}.modal-body .col-12.text-center:first-of-type{padding-bottom:0!important}.modal-body .col-12.text-center:nth-of-type(2){padding-top:0!important;margin-bottom:1rem}.modal-footer{border-top:1px solid #34495e!important;background-color:#1a252f!important;border-bottom-left-radius:15px;border-bottom-right-radius:15px;padding-top:15px}.list-group{border-radius:8px;overflow:hidden}.list-group-item{background-color:rgba(0,0,0,.2)!important;border-color:#34495e!important}.list-group-item .d-flex{align-items:center!important}.list-group-item h6{font-size:2.8rem!important;line-height:1!important;font-weight:700!important;margin-right:.75rem!important;color:#00eaff!important;text-shadow:0 0 5px #00eaff}.list-group-item strong.text-danger{color:#ecf0f1!important;text-shadow:none!important}@keyframes flowAnimation{0%{background-position:200% 0}100%{background-position:-200% 0}}.progress{background-color:#1a252f!important;border:1px solid #34495e;border-radius:8px!important;height:22px!important;padding:2px}.progress-bar-rtp{border-radius:6px!important;animation:flowAnimation 2s linear infinite;background-size:200% 100%!important;color:#fff!important;font-weight:700;font-size:.8em;text-shadow:0 0 3px rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center}.progress-bar-rtp.bg-success{background-image:linear-gradient(90deg,#2ecc71 25%,#27ae60 50%,#2ecc71 75%)!important;box-shadow:0 0 10px #2ecc71}.progress-bar-rtp.bg-warning{background-image:linear-gradient(90deg,#f1c40f 25%,#f39c12 50%,#f1c40f 75%)!important;box-shadow:0 0 10px #f1c40f}.progress-bar-rtp.bg-danger{background-image:linear-gradient(90deg,#e74c3c 25%,#c0392b 50%,#e74c3c 75%)!important;box-shadow:0 0 10px #e74c3c}.progress-bar-rtp.bg-primary{background-image:linear-gradient(90deg,#3498db 25%,#2980b9 50%,#3498db 75%)!important;box-shadow:0 0 10px #3498db}.pagination{justify-content:center}.pagination .page-link{background-color:transparent;border:1px solid #00aaff;color:#00eaff;margin:0 3px;border-radius:5px}.pagination .page-item:not(.disabled) .page-link:hover{background-color:rgba(0,170,255,.2);color:#fff}.pagination .page-item.active .page-link{background:linear-gradient(45deg,#0077ff,#00eaff);border-color:#00eaff;color:#fff}.pagination .page-item.disabled .page-link{background-color:#2c3e50;border-color:#34495e;color:#566573}
        #deposit-form .alert .my-3, #deposit-form .alert .d-grid { margin-top: 0 !important; margin-bottom: 0 !important; padding-top: 0 !important; padding-bottom: 0 !important; }
        #maincontent .border.border-top-0 { border-color: #00aaff !important; }
        #maincontent #withdraw-form h4 { text-align: center !important; color: #FFD700 !important; text-shadow: 0 0 8px rgba(255, 215, 0, 0.5); margin-bottom: 1.5rem !important; }
        #withdraw-form .form-label { padding-left: 0.5rem !important; }
        .input-wrapper { position: relative; }
        .password-toggle-icon { position: absolute; top: 50%; right: 12px; transform: translateY(-50%); cursor: pointer; color: #bdc3c7; z-index: 100; }
        .invalid-feedback { display: none !important; }
        .form-control.is-invalid { background-image: none !important; padding-right: 0.75rem !important; }
        .balance-toggle-icon { margin-left: 8px; cursor: pointer; vertical-align: middle; }
        #member-status-panel a { display: inline-flex; align-items: center; }
        #member-status-panel .balance-toggle-icon { font-size: 24px; color: #FFD700; }
        #member-status-panel.glassmorphism { border-color: #FFD700 !important; box-shadow: 0 0 20px rgba(255, 215, 0, 0.6) !important; }
        #member-status-panel.glassmorphism:hover { box-shadow: 0 5px 25px rgba(255, 215, 0, 0.7) !important; }
        #member-status-panel strong { color: #FFD700 !important; text-shadow: 0 0 5px rgba(255, 215, 0, 0.6) !important; }
        #nav-tab { flex-wrap: nowrap; overflow-x: auto; border-bottom: none !important; padding-bottom: 5px; margin-bottom: -1px; }
        #nav-tab::-webkit-scrollbar { display: none; }
        #nav-tab .nav-link { flex-shrink: 0; color: #bdc3c7 !important; background-color: transparent !important; border: 1px solid transparent !important; border-bottom: none !important; }
        #nav-tab .nav-link.active { color: #fff !important; background-color: #1a252f !important; border-color: #00aaff !important; border-radius: 8px 8px 0 0 !important; }
        #nav-tabContent { background-color: #1a252f; border: 1px solid #00aaff; border-top: none; padding: 2rem !important; color: #ecf0f1; border-radius: 0 0 8px 8px; }
        #nav-tabContent h3 { color: #FFD700 !important; }
        #betting-page-container .card { background: linear-gradient(145deg, #2c3e50, #1a252f) !important; border: 1px solid #00aaff !important; box-shadow: 0 0 20px rgba(0, 170, 255, .6) !important; border-radius: 15px !important; color: #ecf0f1; }
        #betting-page-container .card-header { background-color: rgba(0, 170, 255, .1); border-bottom: 1px solid #00aaff; color: #ffd700; font-weight: bold; text-transform: uppercase; font-size: 1.1rem; padding: .75rem 1.25rem; }
        #betting-page-container .card-header i { margin-right: 8px; }
        #betting-page-container .info-description { font-size: 0.85em; color: #bdc3c7; background-color: transparent; padding: 10px; border-radius: 0; border-left: none; margin-bottom: 0 !important; }
        #betting-page-container .category-buttons .btn, #betting-page-container .bet-type-toggle .btn { border-color: #00aaff !important; color: #00eaff !important; background-color: transparent !important; text-transform: none !important; font-weight: normal; }
        #betting-page-container .category-buttons .btn:hover, #betting-page-container .bet-type-toggle .btn:hover { background-color: rgba(0, 170, 255, .2) !important; color: #fff !important; }
        #betting-page-container .category-buttons .btn.active, #betting-page-container .btn-check:checked + .btn { background: linear-gradient(45deg, #0077ff, #00eaff) !important; border-color: #00eaff !important; color: #fff !important; font-weight: bold; box-shadow: 0 0 15px #00eaff; }
        #betting-page-container .table-input { background-color: rgba(0,0,0,0.15); }
        #betting-page-container .table-input thead th { background-color: rgba(0, 170, 255, .1) !important; border-bottom: 2px solid #00aaff !important; color: #ecf0f1; }
        #betting-page-container .form-check-input { background-color: #1a252f; border-color: #34495e; }
        #betting-page-container .form-check-input:checked { background-color: #00eaff; border-color: #00eaff; box-shadow: 0 0 10px #00eaff; }
        #panel-closed.panel-closed-themed { background: linear-gradient(45deg, #c0392b, #e74c3c) !important; border: 1px solid #e74c3c !important; box-shadow: 0 0 20px rgba(231, 76, 60, 0.6) !important; border-radius: 15px !important; padding: 5rem 1rem !important; }
        #panel-closed.panel-closed-themed strong { font-size: 1.5rem; text-shadow: 0 0 10px rgba(0,0,0,0.5); }
        
        /* CSS KHUSUS UNTUK TABEL BETTING */
        #betting-page-container .card-body { padding: 1.25rem; padding-top: 0 !important; }
        #betting-page-container .info-description, #betting-page-container .bet-type-toggle { margin-bottom: 0 !important; }
        #betting-page-container .table-input { margin-left: -1.25rem !important; margin-right: -1.25rem !important; width: calc(100% + 2.5rem) !important; margin-bottom: 1rem !important; }
        #betting-page-container .table-input td.td-input { padding: 0 !important; vertical-align: middle; }
        #betting-page-container .table-input td.td-input .form-control { border: none !important; border-radius: 0 !important; background-color: transparent !important; text-align: center; height: 100%; }
        #betting-page-container .table-input td.td-input .form-control:focus { box-shadow: inset 0 0 0 2px #00eaff !important; }
        #betting-page-container button[onclick="addRow(event)"] { border-color: #ffd700 !important; color: #ffd700 !important; background-color: transparent !important; }
        #betting-page-container button[onclick="addRow(event)"]:hover { background-color: rgba(255, 215, 0, 0.2) !important; color: #fff !important; }
        #betting-page-container select#select-market { border-color: #ffd700 !important; }
        #betting-page-container select#select-market:focus { border-color: #ffd700 !important; box-shadow: 0 0 10px rgba(255, 215, 0, 0.6) !important; }

        /* CSS KHUSUS UNTUK HALAMAN PROFIL */
        #profile-page-container .profile-row { display: flex; align-items: center; background-color: #1a252f; padding: 12px 15px; border-radius: 8px; margin-bottom: 10px; border: 1px solid #34495e; }
        #profile-page-container .profile-row-stacked { flex-direction: column; align-items: flex-start; }
        #profile-page-container .profile-label { display: flex; align-items: center; color: #bdc3c7; flex-basis: 35%; flex-shrink: 0; font-weight: 500; }
        #profile-page-container .profile-row-stacked .profile-label { margin-bottom: 8px; }
        #profile-page-container .profile-label i { margin-right: 12px; color: #00eaff; font-size: 1.2em; }
        #profile-page-container .profile-value { color: #fff; font-weight: 700; word-break: break-all; text-align: right; flex-grow: 1; }
        #profile-page-container .profile-row-stacked .profile-value { text-align: left; background-color: rgba(0,0,0,0.2); padding: 8px 12px; border-radius: 5px; width: 100%; }
    `;
    const styleElement = document.createElement('style');
    document.head.appendChild(styleElement);
    styleElement.innerHTML = gavanThemeStyles;

    // --- KUMPULAN FUNGSI ---
    let intervalsInitialized = false;
    let observer;

    function setupPersistentCountdownIntervals() { if (intervalsInitialized) return; setInterval(() => { document.querySelectorAll('#carousel-togel .togel-countdown-timer').forEach(timer => { const now = new Date().getTime(); const closingTime = parseInt(timer.dataset.time, 10); const status = parseInt(timer.dataset.status, 10); if (status !== 1 || !closingTime || isNaN(closingTime) || (closingTime - now) <= 0) { timer.classList.remove('show-warning-text', 'closing-soon'); if (!timer.classList.contains('is-closed')) { timer.textContent = "TUTUP"; timer.classList.add('is-closed'); } return; } const diff = closingTime - now; if (diff < 1800000) { timer.classList.add('closing-soon'); let blinkCounter = parseInt(timer.dataset.blinkCounter || '0', 10); if (blinkCounter < 5) { timer.classList.add('show-warning-text'); } else { timer.classList.remove('show-warning-text'); } timer.dataset.blinkCounter = (blinkCounter + 1) % 10; } else { timer.classList.remove('closing-soon', 'show-warning-text'); if (timer.dataset.blinkCounter) { delete timer.dataset.blinkCounter; } } }); }, 1000); intervalsInitialized = true; }
    function initializeSwipeableHeaderMenu() { const menuNav = document.querySelector('nav.menubar.d-xl-none'); if (!menuNav || menuNav.dataset.styled === 'true') return; const originalContainer = menuNav.querySelector('#category-navbar .owl-stage-outer'); if (!originalContainer) return; const allItems = Array.from(originalContainer.querySelectorAll('.owl-item:not(.cloned) > .item')); if (allItems.length === 0) return; const homeItem = allItems.find(item => item.querySelector('a[href="/"]')); const otherItems = allItems.filter(item => item !== homeItem); if (!homeItem || otherItems.length === 0) return; const wrapper = document.createElement('div'); wrapper.className = 'custom-header-wrapper'; const homeDiv = document.createElement('div'); homeDiv.className = 'home-link-fixed'; homeDiv.appendChild(homeItem.cloneNode(true)); const scrollableDiv = document.createElement('div'); scrollableDiv.className = 'scrollable-menu-container'; const owlCarouselDiv = document.createElement('div'); owlCarouselDiv.className = 'owl-carousel other-items-carousel'; otherItems.forEach(item => { owlCarouselDiv.appendChild(item.cloneNode(true)); }); scrollableDiv.appendChild(owlCarouselDiv); wrapper.appendChild(homeDiv); wrapper.appendChild(scrollableDiv); const parentContainer = menuNav.querySelector('.container'); parentContainer.innerHTML = ''; parentContainer.appendChild(wrapper); const newCarousel = $(parentContainer).find('.other-items-carousel'); if (newCarousel.length > 0) { newCarousel.owlCarousel({ autoWidth: true, loop: true, margin: 15, nav: false, dots: false, autoplay: true, autoplayTimeout: 4000, autoplayHoverPause: true, }); } menuNav.dataset.styled = 'true'; }
    function initializeTogelCarousel() { const carousel = document.querySelector('#carousel-togel'); if (!carousel || carousel.dataset.initialized === 'true') return; setTimeout(() => { const stage = carousel.querySelector('.owl-stage'); if (!stage || carousel.dataset.initialized === 'true') return; const items = Array.from(stage.querySelectorAll('.owl-item:not(.cloned)')); if (items.length <= 1) return; const sortedItems = items.map(item => { const timer = item.querySelector('.togel-countdown-timer'); const time = timer ? parseInt(timer.dataset.time, 10) : Infinity; const status = timer ? parseInt(timer.dataset.status, 10) : -1; const isClosed = (timer && timer.textContent.trim().toUpperCase() === 'TUTUP') || status !== 1; return { element: item, time: isClosed ? Infinity : time }; }).sort((a, b) => a.time - b.time); stage.innerHTML = ''; sortedItems.forEach(item => stage.appendChild(item.element)); const existingButton = carousel.parentElement.querySelector(".show-more-wrapper"); if (existingButton) existingButton.remove(); const showMoreWrapper = document.createElement("div"); showMoreWrapper.className = "show-more-wrapper"; const showMoreButton = document.createElement("button"); showMoreButton.className = "show-more-button"; showMoreButton.innerHTML = 'Tampilkan Semua Pasaran <i class="bi bi-chevron-down"></i>'; showMoreWrapper.appendChild(showMoreButton); carousel.parentElement.insertBefore(showMoreWrapper, carousel.nextSibling); showMoreButton.addEventListener("click", () => { const isShowingAll = carousel.classList.toggle("show-all"); showMoreButton.innerHTML = isShowingAll ? 'Tutup <i class="bi bi-chevron-up"></i>' : 'Tampilkan Semua Pasaran <i class="bi bi-chevron-down"></i>'; }); carousel.dataset.initialized = 'true'; }, 700); }
    function styleTogelTutorialPage() { const navTab = document.querySelector('#nav-tab'); if (!navTab || navTab.dataset.styled === 'true') return; navTab.dataset.styled = 'true'; }
    function styleMemberStatusPanel() { const panel = document.querySelector('#member-status-panel'); if (!panel || panel.dataset.styled === 'true') return; const greetingDiv = Array.from(panel.querySelectorAll('div')).find(div => div.textContent.includes('Halo,')); if (greetingDiv) { const usernameStrong = greetingDiv.querySelector('strong'); if (usernameStrong) { greetingDiv.innerHTML = ''; greetingDiv.appendChild(usernameStrong); greetingDiv.style.lineHeight = '1.2em'; } } panel.dataset.styled = 'true'; }
    function addSidebarBalanceToggle() { const creditSpan = Array.from(document.querySelectorAll("#sidebar span")).find(span => span.textContent.includes("CREDIT:")); if (!creditSpan || creditSpan.dataset.balanceToggleAdded === 'true') return; const textContent = creditSpan.textContent.trim(); const match = textContent.match(/CREDIT:\s*([\d,.]+)/); if (!match) return; const originalValue = match[1]; const currency = textContent.split(originalValue)[1]?.trim() || 'IDR'; creditSpan.innerHTML = `CREDIT: <span class="balance-value">${originalValue}</span> ${currency} `; const valueSpan = creditSpan.querySelector('.balance-value'); const toggleIcon = document.createElement('i'); toggleIcon.className = 'bi bi-eye-fill balance-toggle-icon'; const updateView = (state) => { if (state === 'hidden') { valueSpan.textContent = '•••••'; toggleIcon.className = 'bi bi-eye-slash-fill balance-toggle-icon'; } else { valueSpan.textContent = originalValue; toggleIcon.className = 'bi bi-eye-fill balance-toggle-icon'; } }; toggleIcon.addEventListener('click', (e) => { e.preventDefault(); e.stopPropagation(); const newState = (localStorage.getItem('balanceVisibility') || 'visible') === 'visible' ? 'hidden' : 'visible'; localStorage.setItem('balanceVisibility', newState); updateView(newState); addMainBalanceToggle(true); }); creditSpan.appendChild(toggleIcon); creditSpan.dataset.balanceToggleAdded = 'true'; const savedState = localStorage.getItem('balanceVisibility'); if (savedState) updateView(savedState); }
    function addMainBalanceToggle(forceUpdate = false) { const panel = document.querySelector('#member-status-panel'); if (!panel) return; const balanceSpan = panel.querySelector('.text-gradient'); const link = panel.querySelector('a'); if (!balanceSpan || !link) return; if (panel.dataset.toggleAdded === 'true' && !forceUpdate) return; const originalValue = (forceUpdate && link.dataset.originalBalance) ? link.dataset.originalBalance : balanceSpan.textContent.trim(); if(!link.dataset.originalBalance) link.dataset.originalBalance = originalValue; const updateView = (state) => { if (state === 'hidden') { balanceSpan.textContent = '•••••'; if (link.querySelector('.balance-toggle-icon')) link.querySelector('.balance-toggle-icon').className = 'bi bi-eye-slash-fill balance-toggle-icon'; } else { balanceSpan.textContent = originalValue; if (link.querySelector('.balance-toggle-icon')) link.querySelector('.balance-toggle-icon').className = 'bi bi-eye-fill balance-toggle-icon'; } }; if (panel.dataset.toggleAdded !== 'true') { const toggleIcon = document.createElement('i'); toggleIcon.className = 'bi bi-eye-fill balance-toggle-icon'; toggleIcon.addEventListener('click', (e) => { e.preventDefault(); e.stopPropagation(); const newState = (localStorage.getItem('balanceVisibility') || 'visible') === 'visible' ? 'hidden' : 'visible'; localStorage.setItem('balanceVisibility', newState); updateView(newState); addSidebarBalanceToggle(); }); link.appendChild(toggleIcon); panel.dataset.toggleAdded = 'true'; } const savedState = localStorage.getItem('balanceVisibility'); if (savedState) updateView(savedState); }
    function addPasswordToggle(passwordInput) { if (!passwordInput || passwordInput.dataset.toggleAdded === 'true') return; const wrapper = passwordInput.closest('.input-wrapper'); if (!wrapper) { const parent = passwordInput.parentElement; const newWrapper = document.createElement('div'); newWrapper.className = 'input-wrapper'; parent.replaceChild(newWrapper, passwordInput); newWrapper.appendChild(passwordInput); } const finalWrapper = passwordInput.closest('.input-wrapper'); if (!finalWrapper || finalWrapper.querySelector('.password-toggle-icon')) return; const toggleIcon = document.createElement('i'); toggleIcon.className = 'bi bi-eye-fill password-toggle-icon'; toggleIcon.addEventListener('click', () => { const isPassword = passwordInput.type === 'password'; passwordInput.type = isPassword ? 'text' : 'password'; toggleIcon.className = isPassword ? 'bi bi-eye-slash-fill password-toggle-icon' : 'bi bi-eye-fill password-toggle-icon'; }); finalWrapper.appendChild(toggleIcon); passwordInput.dataset.toggleAdded = 'true'; }
    function fetchRtpWithIframe() { return new Promise((e,t)=>{const o=document.createElement("iframe");o.src="/rtp",o.style.display="none",o.onload=function(){try{const a=o.contentDocument||o.contentWindow.document,n=a.querySelectorAll('.row.mb-3.g-1 > div[class*="col-"]');if(0===n.length)return t(new Error("No games found"));const l=Array.from(n).filter(e=>{const t=e.querySelector(".progress-bar-rtp");return t&&parseInt(t.textContent)>=75});if(0===l.length)return t(new Error("No games with RTP >= 75%"));const c=l.map(e=>{const t=e.querySelector("a"),o=e.querySelector(".progress-bar-rtp");return{link:t.dataset.playurl,image:t.querySelector("img").src,name:t.dataset.gamename,percentage:parseInt(o.textContent),colorClass:Array.from(o.classList).find(e=>e.startsWith("bg-"))}});e(c)}catch(e){t(e)}finally{document.body.removeChild(o)}},o.onerror=function(){t(new Error("Failed to load RTP iframe")),document.body.removeChild(o)},document.body.appendChild(o)})}
    function displayGacorGames(container, games) { let e="";games.forEach(t=>{const o=new Date;let a=o.getHours();const n=o.getMinutes();let l=5*Math.ceil((n+1)/5),r=[];l>=60&&(a=(a+1)%24,l=0);for(let e=l;e<60;e+=5)r.push(`${String(a).padStart(2,"0")}:${String(e).padStart(2,"0")}`);0===r.length&&(a=(a+1)%24,r.push(`${String(a).padStart(2,"0")}:00`));const c=r[Math.floor(Math.random()*r.length)];e+=`<a href="${t.link}" target="_blank" class="gacor-card"><img src="${t.image}" alt="${t.name}"><div class="gacor-info"><strong title="${t.name}">${t.name}</strong><div class="gacor-time"><i class="bi bi-clock-fill"></i> Pola Berlaku Jam: ${c}</div><div class="progress mt-2"><div class="progress-bar-rtp ${t.colorClass}" role="progressbar" style="width: ${t.percentage}%">${t.percentage}%</div></div></div></a>`}),container.innerHTML=`<h5><i class="bi bi-stars"></i> GAME GACOR SAAT INI</h5><div class="gacor-card-container">${e}</div>`;const t=container.querySelectorAll(".gacor-info strong");t.forEach(e=>{const t=20;e.textContent.length>t&&(e.textContent=e.textContent.substring(0,t-3)+"...")})}
    async function injectGacorGame() { if(document.getElementById("gacor-game-sidebar"))return;const e=document.getElementById("sidebar");if(!e)return;const t=document.createElement("div");t.id="gacor-game-sidebar",t.className="m-3",t.innerHTML='<h5><i class="bi bi-stars"></i> GAME GACOR SAAT INI</h5><div class="gacor-card-placeholder">Mencari sinyal gacor...</div>',e.appendChild(t);const o=!!document.querySelector('#sidebar .d-flex[style*="background-image"]'),a=o?1:3;try{const e=await fetchRtpWithIframe(),o=e.sort(()=>.5-Math.random()).slice(0,a);displayGacorGames(t,o)}catch(e){console.error("Gagal memuat game gacor, menggunakan fallback:",e);const o={link:"/launch-pragmatic/vs20olympgold",image:"https://4n76bph80j.gbgfstie.biz/game_pic/square/200/vs20olympgold.png",name:"Gates of Olympus",percentage:96,colorClass:"bg-primary"};displayGacorGames(t,[o].slice(0,a))}}
    function styleRtpModal() { const rtpModalLabel = document.querySelector('#rtpModalLabel'); if (!rtpModalLabel || rtpModalLabel.closest('.modal-content').dataset.styled === 'true') return; const modalContent = rtpModalLabel.closest('.modal-content'); modalContent.querySelectorAll(".list-group-item small > strong").forEach(title => { if (title.textContent.includes("Step")) title.textContent = title.textContent.replace(/Step \d+:\s*/, "").trim(); }); ["Provider Name", "Slot Game"].forEach(labelText => { const labelDiv = Array.from(modalContent.querySelectorAll(".modal-body .row .col-6")).find(el => el.textContent.trim() === labelText); if (labelDiv) { const row = labelDiv.closest(".row"); if (row) { const valueDiv = row.querySelector(".col-6.text-end"); if (valueDiv) { valueDiv.classList.remove("col-6", "text-end"); valueDiv.classList.add("col-12", "text-center"); if (labelText === "Provider Name") valueDiv.style.paddingBottom = "0rem"; if (labelText === "Slot Game") valueDiv.style.marginBottom = "1rem"; } labelDiv.remove(); } } }); const modalTitle = modalContent.querySelector(".modal-title"); if (modalTitle && !modalTitle.querySelector("i")) modalTitle.innerHTML = `<i class="bi bi-controller"></i> TIPS BERMAIN`; const noteElement = modalContent.querySelector(".text-muted.text-center"); if (noteElement && noteElement.textContent.includes("Lakukan Pola diatas Sebanyak 2x")) noteElement.innerHTML = "<small><strong>Note : </strong> Jika Tersedia / Ingin Membeli Fitur Spin, Lakukan Pola diatas Sebanyak 2x Terlebih Dahulu</small>"; modalContent.dataset.styled = "true"; }
    function runAllOtherScripts() { [{selector:"h3.my-2:not(#row-togel h3)",oldText:"Terbaru",newText:"GAME TERBARU",icon:"bi-stars"},{selector:"h3.my-2:not(#row-togel h3)",oldText:"100 RP",newText:"RP 100",icon:"bi-coin"},{selector:"h3.my-2:not(#row-togel h3)",oldText:"Populer",newText:"GAME POPULER",icon:"bi-fire"},{selector:"h3.my-2:not(#row-togel h3)",oldText:"Terakhir Dimainkan",newText:"TERAKHIR DIMAINKAN",icon:"bi-clock-history"},{selector:"h3.text-center",oldText:"Provider Kami",newText:"PROVIDER KAMI",icon:"bi-puzzle-fill"},{selector:"h3.text-center",oldText:"Cara Pembayaran",newText:"CARA PEMBAYARAN",icon:"bi-wallet-fill"},{selector:"h3.text-center",oldText:"Temui Kami",newText:"TEMUI KAMI",icon:"bi-people-fill"}].forEach(e=>{document.querySelectorAll(e.selector).forEach(t=>{if(t.textContent.trim().includes(e.oldText)&&!t.querySelector("i"))t.innerHTML=`<i class="bi ${e.icon}"></i> ${e.newText}`})}); const e=document.querySelector("#row-togel h3"),t=document.querySelector("#row-togel > .d-flex > a");if(e&&t&&!e.querySelector("a")){var o=t.href,l="PASARAN TOGEL";const n=document.createElement("a");n.href=o;const c=document.createElement("i");c.className="bi bi-bullseye",n.appendChild(c),n.appendChild(document.createTextNode(` ${l}`)),e.innerHTML="",e.appendChild(n)} document.querySelectorAll(".progress-bar-rtp").forEach(e=>{let t=e.textContent.trim();t.includes("[RTP]")&&(e.textContent=t.replace(/\s*\[RTP\]\s*/,""))}); const r=document.querySelector("#row-quicklogin .card-body");if(r&&!document.querySelector(".custom-promo-buttons-container")){const e=[{text:"WHATSAPP GABANTOTO",link:"#",icon:"bi-whatsapp"},{text:"GROUP FACEBOOK",link:"#",icon:"bi-facebook"}],t=document.createElement("div");t.className="custom-promo-buttons-container mt-4 d-grid gap-2",e.forEach(e=>{const o=document.createElement("a");o.href=e.link,o.target="_blank",o.className="btn btn-custom-promo",o.innerHTML=`<i class="bi ${e.icon}"></i> ${e.text}`,t.appendChild(o)});const o=r.lastElementChild;o&&o.parentNode.insertBefore(t,o.nextSibling)} const i={username:"bi-person-fill",password:"bi-key-fill",confirmpassword:"bi-shield-lock-fill",email:"bi-envelope-fill",phone:"bi-phone-fill",agentbankid:"bi-bank",bankAccountNumber:"bi-credit-card-2-front-fill",bankaccountname:"bi-person-vcard-fill"};for(const[e,t]of Object.entries(i)){const o=document.querySelector(`label[for="${e}"]`);o&&!o.querySelector("i")&&(o.innerHTML=`<i class="bi ${t}"></i> ${o.innerText}`)} }
    function createSidebarToggleButton(){if(document.getElementById("custom-sidebar-toggle"))return;const e=document.createElement("a");e.id="custom-sidebar-toggle",e.href="#",e.innerHTML='<i class="bi bi-arrow-left-circle-fill"></i>',document.body.appendChild(e),e.addEventListener("click",function(e){e.preventDefault(),document.getElementById("sidebar").classList.remove("active"),document.querySelector(".overlay").classList.remove("active")})}
    function updateProfileElements(){const e=document.querySelector("#sidebar .bi-person-circle");if(e){const t=document.createElement("img");t.src="https://raw.githubusercontent.com/dewasijicare/images/main/icon_gaban_36x36.png",t.className="gaban-profile-icon",e.parentNode.replaceChild(t,e)}const t=Array.from(document.querySelectorAll("#sidebar span")).find(e=>e.textContent.includes("CREDIT:"));t&&(t.style.color="#FFD700")}
    const BANK_ICONS = {'DANA':'https://adiltoto.org/images/dana_ok.png','OVO':'https://adiltoto.org/images/ovo_ok.png','GOPAY':'https://adiltoto.org/images/gopay_ok.png','LINKAJA':'https://adiltoto.org/images/link_ok.png','BCA':'https://adiltoto.org/images/bca_ok.png','BNI':'https://adiltoto.org/images/bni_ok.png','BRI':'https://adiltoto.org/images/bri_ok.png','MANDIRI':'https://adiltoto.org/images/mandiri_ok.png','SEABANK':'https://adiltoto.org/images/seabank_ok.png','JAGO':'https://adiltoto.org/images/jago_ok.png'};
    const ICON_MAPPINGS = {'receiver-bank-label':'bi-bank2','receiver-name-label':'bi-person-vcard','receiver-number-label':'bi-credit-card-2-front','agentmemberbankid':'bi-wallet2','amount':'bi-cash-coin','promocode':'bi-tag-fill'};
    function initializeDepositForm(depositForm) { if(!depositForm||depositForm.dataset.initialized==='true')return;const nameContainer=document.getElementById('receiver-name')?.closest('div');const numberContainer=document.getElementById('receiver-number')?.closest('div');if(nameContainer&&numberContainer&&nameContainer.parentElement===numberContainer.parentElement){nameContainer.parentElement.insertBefore(nameContainer,numberContainer)}if(numberContainer){const numberSpan=document.getElementById('receiver-number');if(numberSpan&&!numberContainer.querySelector('.copy-btn')){const newCopyButton=document.createElement('button');newCopyButton.type='button';newCopyButton.className='btn copy-btn';newCopyButton.innerHTML='<i class="bi bi-copy"></i> Copy';newCopyButton.addEventListener('click',e=>{e.preventDefault();navigator.clipboard.writeText(numberSpan.textContent.trim()).then(()=>{newCopyButton.innerHTML='<i class="bi bi-check-lg"></i> Copied';newCopyButton.classList.add('copy-btn-success');setTimeout(()=>{newCopyButton.innerHTML='<i class="bi bi-copy"></i> Copy';newCopyButton.classList.remove('copy-btn-success')},1500)})});const labelEl=document.getElementById('receiver-number-label');const contentWrapper=document.createElement('div');contentWrapper.append(labelEl,' ',numberSpan);numberContainer.innerHTML='';numberContainer.append(contentWrapper,newCopyButton);numberContainer.style.display='flex';numberContainer.style.justifyContent='space-between';numberContainer.style.alignItems='center'}}const oldCopyButton=depositForm.querySelector('button[onclick*="copyReceiverNumber"]');if(oldCopyButton)oldCopyButton.style.display='none';depositForm.dataset.initialized='true' }
    function updateDepositFormUI(depositForm) { if(!depositForm)return;const receiverBankSpan=document.getElementById('receiver-bank');if(receiverBankSpan&&!receiverBankSpan.dataset.iconApplied){const bankName=receiverBankSpan.textContent.trim().toUpperCase();if(BANK_ICONS[bankName]){receiverBankSpan.innerHTML=`<img src="${BANK_ICONS[bankName]}" alt="${bankName}" style="height: 40px; vertical-align: middle;">`}receiverBankSpan.dataset.iconApplied='true'}for(const[key,iconClass]of Object.entries(ICON_MAPPINGS)){const isLabelForInput=!key.includes('receiver');const element=isLabelForInput?depositForm.querySelector(`label[for="${key}"]`):document.getElementById(key);if(element&&!element.querySelector('i.bi')){const iconEl=document.createElement('i');iconEl.className=`bi ${iconClass}`;element.prepend(iconEl,document.createTextNode(' '))}}const qrCodeImg=document.getElementById('receiver-qrcode');if(qrCodeImg){qrCodeImg.classList.remove('bg-white');qrCodeImg.style.setProperty('border-color','#00aaff','important');qrCodeImg.style.setProperty('background-color','transparent','important')} }
    function styleWithdrawForm() { const withdrawCard=document.querySelector('#withdraw-form')?.closest('.card.shadow');if(!withdrawCard||withdrawCard.dataset.tabsApplied==='true')return;const mainTitle=withdrawCard.querySelector('h1.text-center');const historyTitle=Array.from(withdrawCard.querySelectorAll('h1, h2, h3')).find(el=>el.textContent.includes('RIWAYAT WITHDRAW'));if(mainTitle&&historyTitle){const navTabs=document.createElement('ul');navTabs.className='nav nav-tabs';navTabs.innerHTML=`<li class="nav-item"><a class="nav-link active" href="#">Withdraw</a></li><li class="nav-item"><a class="nav-link" href="#">Riwayat</a></li>`;const contentWrapper=document.createElement('div');contentWrapper.className='border border-top-0 px-3 pb-3 pt-2';Array.from(withdrawCard.children).forEach(child=>{if(child!==mainTitle){contentWrapper.appendChild(child.cloneNode(true))}});while(withdrawCard.firstChild){withdrawCard.removeChild(withdrawCard.firstChild)}withdrawCard.appendChild(mainTitle);withdrawCard.appendChild(navTabs);withdrawCard.appendChild(contentWrapper);const newHistoryTitle=contentWrapper.querySelector('h1, h2, h3');if(newHistoryTitle&&newHistoryTitle.textContent.includes('RIWAYAT WITHDRAW')){newHistoryTitle.style.display='none'}withdrawCard.dataset.tabsApplied='true'}const withdrawForm=withdrawCard.querySelector('#withdraw-form');if(withdrawForm){const bankLabel=withdrawForm.querySelector('label[for="agentmemberbankid"]');if(bankLabel&&!bankLabel.querySelector('i.bi')){bankLabel.innerHTML='<i class="bi bi-wallet2"></i> Bank / e-Wallet'}const amountLabel=withdrawForm.querySelector('label[for="amount"]');if(amountLabel&&!amountLabel.querySelector('i.bi')){amountLabel.innerHTML='<i class="bi bi-cash-coin"></i> '+amountLabel.textContent}} }
    function styleBettingPage() { const bettingContainer = document.querySelector('#select-market')?.closest('.container.my-5'); if (!bettingContainer) return; if (!bettingContainer.dataset.styledOnce) { bettingContainer.id = 'betting-page-container'; const marketLabel = document.querySelector('label[for="select-market"]'); if (marketLabel && !marketLabel.querySelector('i')) { marketLabel.innerHTML = `<i class="bi bi-bullseye"></i> ${marketLabel.textContent}`; } const websiteBtn = document.getElementById('info-website'); if (websiteBtn) { websiteBtn.innerHTML = 'Website <i class="bi bi-arrow-up-right-square"></i>'; websiteBtn.classList.remove('btn-outline-primary'); websiteBtn.classList.add('btn', 'btn-secondary'); } const categoryButtons = bettingContainer.querySelectorAll('button[name="category"]'); if (categoryButtons.length > 0) { const firstButton = categoryButtons[0]; const row = firstButton.closest('.row'); if (row && !row.classList.contains('category-buttons')) { row.classList.add('category-buttons'); categoryButtons.forEach(btn => { btn.classList.remove('btn-primary', 'btn-outline-primary', 'btn-outline-info', 'rounded-3'); btn.classList.add('btn'); if (btn.id === 'btn-4D') { btn.classList.add('active'); } }); row.addEventListener('click', (e) => { if (e.target.matches('button[name="category"]')) { row.querySelectorAll('button').forEach(b => b.classList.remove('active')); e.target.classList.add('active'); } }); } } bettingContainer.querySelectorAll('.btn-group[role="group"]').forEach(group => { group.classList.add('bet-type-toggle'); }); bettingContainer.dataset.styledOnce = 'true'; } bettingContainer.querySelectorAll('div[id^="panel-"]:not([data-panel-styled="true"])').forEach(panel => { panel.dataset.panelStyled = 'true'; panel.classList.remove('bg-dark', 'border', 'rounded-3', 'p-1', 'p-3'); if (!panel.classList.contains('card')) panel.classList.add('card', 'mb-3'); const cardHeader = panel.querySelector('.card-header'); const cardBody = panel.querySelector('.card-body'); if (!cardHeader && !cardBody) { const infoDiv = panel.querySelector('.mb-3'); const title = infoDiv ? (infoDiv.querySelector('strong')?.textContent.trim() || 'Panel Permainan') : 'Panel Permainan'; const newCardHeader = document.createElement('div'); newCardHeader.className = 'card-header'; newCardHeader.innerHTML = `<i class="bi bi-joystick"></i> ${title}`; const newCardBody = document.createElement('div'); newCardBody.className = 'card-body'; while (panel.firstChild) { newCardBody.appendChild(panel.firstChild); } panel.appendChild(newCardHeader); panel.appendChild(newCardBody); } if (panel.id === 'panel-closed') { panel.classList.add('panel-closed-themed'); } panel.querySelectorAll('.table-input thead.table-warning').forEach(thead => { thead.classList.remove('table-warning'); }); panel.querySelectorAll('.fa-plus').forEach(icon => { icon.className = 'bi bi-plus-lg'; }); panel.querySelectorAll('input[name="digit"]:not([type="tel"])').forEach(input => { input.type = 'tel'; input.pattern = '[0-9]*'; }); panel.querySelectorAll('input[name^="bet"]:not([type="number"])').forEach(input => { input.type = 'number'; input.inputMode = 'numeric'; }); panel.querySelectorAll('button[type="reset"].btn-outline-danger').forEach(resetButton => { resetButton.classList.remove('btn-outline-danger'); resetButton.classList.add('btn-danger'); }); const addRowButton = panel.querySelector('button[onclick="addRow(event)"]'); if (addRowButton) { addRowButton.classList.remove('btn-outline-primary'); } }); }
    function styleQuickLogin() { document.querySelectorAll('#row-quicklogin:not([data-styled="true"])').forEach(card => { card.dataset.styled = 'true'; const form = card.querySelector('form'); if (!form) return; const usernameDiv = form.querySelector('label[for="username"]')?.parentElement; const passwordDiv = form.querySelector('label[for="password"]')?.parentElement; const buttonDiv = form.querySelector('.d-flex.gap-1.my-3'); if (!usernameDiv || !passwordDiv || !buttonDiv) return; const newInputsHTML = ` <div class="row g-2 mb-3"> <div class="col-md-6"> <div class="input-group"> <span class="input-group-text"><i class="bi bi-person-fill"></i></span> <input type="text" name="userName" id="username" class="form-control" placeholder="Username"> </div> </div> <div class="col-md-6"> <div class="input-wrapper"> <div class="input-group"> <span class="input-group-text"><i class="bi bi-key-fill"></i></span> <input type="password" name="password" id="password" class="form-control" placeholder="Password"> </div> </div> </div> </div> `; buttonDiv.insertAdjacentHTML('beforebegin', newInputsHTML); usernameDiv.remove(); passwordDiv.remove(); const newPasswordInput = card.querySelector('#password'); if (newPasswordInput) { addPasswordToggle(newPasswordInput); } }); }
    function styleLoginPage() { const loginForm = document.querySelector('#maincontent form[action="/login"]'); if (!loginForm) return; const loginCard = loginForm.closest('.card.shadow'); if (!loginCard || loginCard.dataset.layoutStyled === 'true') return; loginCard.dataset.layoutStyled = 'true'; const usernameGroup = loginForm.querySelector('input[name="userName"]')?.closest('.form-group, .mb-3'); const passwordGroup = loginForm.querySelector('input[name="password"]')?.closest('.form-group, .mb-3'); const buttonContainer = loginForm.querySelector('button[type="submit"]')?.parentElement; if (usernameGroup && passwordGroup && buttonContainer) { const newInputsHTML = ` <div class="row g-2 mb-3"> <div class="col-md-6"> <div class="input-group"> <span class="input-group-text"><i class="bi bi-person-fill"></i></span> <input type="text" name="userName" required="required" class="form-control" placeholder="User Name"> </div> </div> <div class="col-md-6"> <div class="input-wrapper"> <div class="input-group"> <span class="input-group-text"><i class="bi bi-key-fill"></i></span> <input type="password" name="password" required="required" class="form-control" placeholder="Password"> </div> </div> </div> </div> `; buttonContainer.insertAdjacentHTML('beforebegin', newInputsHTML); usernameGroup.remove(); passwordGroup.remove(); } }
    function styleRegisterPage() { const form = document.querySelector('form[action="/register"]'); if (!form || form.dataset.styled === 'true') return; form.dataset.styled = 'true'; const card = form.closest('.card.shadow'); const mainRow = card ? card.querySelector('.row.mb-3') : null; const buttonWrapper = card ? card.querySelector('.d-grid.gap-3.mb-3') : null; if (!card || !mainRow || !buttonWrapper) return; mainRow.before(form); form.append(mainRow); form.append(buttonWrapper); form.querySelectorAll('h3').forEach(h3 => h3.remove()); form.querySelectorAll('.form-group').forEach(group => { const label = group.querySelector('label'); const input = group.querySelector('input, select'); if (!label || !input) return; const icon = label.querySelector('i.bi'); const placeholderText = label.textContent.replace(/\(.*\)/g, '').replace(/(\r\n|\n|\r)/gm, " ").trim(); let newElement; if (icon) { const inputGroup = document.createElement('div'); inputGroup.className = 'input-group mb-2'; const iconSpan = document.createElement('span'); iconSpan.className = 'input-group-text'; iconSpan.appendChild(icon.cloneNode(true)); inputGroup.appendChild(iconSpan); inputGroup.appendChild(input); newElement = inputGroup; } else { const simpleDiv = document.createElement('div'); simpleDiv.className = 'mb-2'; simpleDiv.appendChild(input); newElement = simpleDiv; } if (input.tagName.toLowerCase() !== 'select') { input.placeholder = placeholderText; } else { if (!input.querySelector('option[value=""]')) { const defaultOption = document.createElement('option'); defaultOption.value = ""; defaultOption.textContent = placeholderText || "Pilih Opsi"; defaultOption.disabled = true; defaultOption.selected = true; input.prepend(defaultOption); } } input.classList.add('form-control'); if (input.type === 'password') { const wrapper = document.createElement('div'); wrapper.className = 'input-wrapper'; wrapper.appendChild(newElement); group.replaceWith(wrapper); } else { group.replaceWith(newElement); } }); const passwordInput = form.querySelector('#password'); const confirmPasswordInput = form.querySelector('#confirmpassword'); if (passwordInput && confirmPasswordInput) { const passwordWrapper = passwordInput.closest('.input-wrapper'); confirmPasswordInput.closest('.input-wrapper')?.querySelector('.password-toggle-icon')?.remove(); if (passwordWrapper && !passwordWrapper.querySelector('.password-toggle-icon')) { const toggleIcon = document.createElement('i'); toggleIcon.className = 'bi bi-eye-fill password-toggle-icon'; toggleIcon.addEventListener('click', () => { const isPassword = passwordInput.type === 'password'; const newType = isPassword ? 'text' : 'password'; passwordInput.type = newType; confirmPasswordInput.type = newType; toggleIcon.className = isPassword ? 'bi bi-eye-slash-fill password-toggle-icon' : 'bi bi-eye-fill password-toggle-icon'; }); passwordWrapper.appendChild(toggleIcon); passwordInput.dataset.toggleAdded = 'true'; confirmPasswordInput.dataset.toggleAdded = 'true'; } } }
    
    function styleProfilePage() {
        const title = Array.from(document.querySelectorAll('h1.text-center')).find(h1 => h1.textContent.trim() === 'Profil Akun');
        if (!title) return;
        const profileForm = title.nextElementSibling;
        if (!profileForm || profileForm.tagName !== 'FORM' || profileForm.dataset.styled === 'true') return;
        profileForm.dataset.styled = 'true';
        profileForm.id = 'profile-page-container';
        const formGroups = profileForm.querySelectorAll('.form-group.mb-3');
        if (formGroups.length === 0) return;
        const newContentWrapper = document.createElement('div');
        newContentWrapper.style.marginBottom = '2rem';
        const iconMapping = { 'Username': 'bi-person-fill', 'Email': 'bi-envelope-fill', 'Nomor HP': 'bi-phone-fill', 'Rekening Bank': 'bi-wallet2', 'Bergabung Sejak': 'bi-calendar-check', 'Login Terakhir': 'bi-clock-history' };
        const stackedLayoutLabels = ['Rekening Bank', 'Bergabung Sejak', 'Login Terakhir'];
        formGroups.forEach(group => {
            const labelEl = group.querySelector('label');
            if (!labelEl) return;
            let labelText = labelEl.textContent.trim();
            let valueText = '';
            if (labelText === 'Nama Lengkap' || labelText === 'Credit') { return; } // [PERUBAHAN] Hapus juga Credit
            if (labelText === 'Nama') { labelText = 'Username'; }
            if (labelText === 'Rekening Bank') {
                const inputs = group.querySelectorAll('input.form-control');
                valueText = Array.from(inputs).map(input => input.value).join(' - ');
            } else {
                const input = group.querySelector('input.form-control');
                if (input) { valueText = input.value; }
            }
            const iconClass = iconMapping[labelText];
            if (!iconClass) return;
            const row = document.createElement('div');
            const isStacked = stackedLayoutLabels.includes(labelText);
            row.className = isStacked ? 'profile-row profile-row-stacked' : 'profile-row';
            const newLabel = document.createElement('div');
            newLabel.className = 'profile-label';
            newLabel.innerHTML = `<i class="bi ${iconClass}"></i> <span>${labelText}</span>`;
            const newValue = document.createElement('div');
            newValue.className = 'profile-value';
            newValue.textContent = valueText || '-';
            row.appendChild(newLabel);
            row.appendChild(newValue);
            newContentWrapper.appendChild(row);
        });
        profileForm.prepend(newContentWrapper);
        formGroups.forEach(group => group.remove());
    }

    // [FUNGSI BARU] FUNGSI UNTUK MENATA HALAMAN GANTI PASSWORD
    function styleChangePasswordPage() {
        const form = document.querySelector('form[action="/change-password"]');
        if (!form || form.dataset.styled === 'true') return;
        form.dataset.styled = 'true';

        const iconMapping = {
            'currentpassword': 'bi-key-fill',
            'password': 'bi-shield-lock-fill',
            'confirmpassword': 'bi-shield-check'
        };

        form.querySelectorAll('.form-group').forEach(group => {
            const label = group.querySelector('label');
            const input = group.querySelector('input');
            if (!label || !input) return;

            const iconClass = iconMapping[input.id];
            if (!iconClass) return;
            
            const placeholderText = label.textContent.trim();
            
            const inputGroup = document.createElement('div');
            inputGroup.className = 'input-group mb-3';
            
            const iconSpan = document.createElement('span');
            iconSpan.className = 'input-group-text';
            iconSpan.innerHTML = `<i class="bi ${iconClass}"></i>`;

            input.placeholder = placeholderText;
            inputGroup.appendChild(iconSpan);
            inputGroup.appendChild(input.cloneNode(true)); // Salin inputnya

            const wrapper = document.createElement('div');
            wrapper.className = 'input-wrapper';
            wrapper.appendChild(inputGroup);

            // Ganti form group lama dengan yang baru
            group.replaceWith(wrapper);
            
            // Tambahkan kembali toggle password ke input yang baru
            const newPasswordInput = wrapper.querySelector('input');
            addPasswordToggle(newPasswordInput);
        });
    }

    function styleLogoutButton() {
        const profileFormLogout = document.querySelector('form a[href="/logout"]');
        if (profileFormLogout && !profileFormLogout.dataset.styled) {
             profileFormLogout.classList.remove('btn-outline-primary');
             profileFormLogout.classList.add('btn-danger');
             profileFormLogout.dataset.styled = 'true';
        }
        const sidebarLogout = document.querySelector('#sidebar a[href*="logout"]');
        if (sidebarLogout && !sidebarLogout.dataset.styled) {
            sidebarLogout.classList.remove('nav-link');
            sidebarLogout.classList.add('btn', 'btn-danger', 'mx-3', 'my-2');
            sidebarLogout.dataset.styled = 'true';
        }
    }

    // --- INISIALISASI SKRIP ---
    document.addEventListener('DOMContentLoaded', () => {
        setupPersistentCountdownIntervals();
        createSidebarToggleButton();
        runAllOtherScripts();
        injectGacorGame();
        
        const observerCallback = () => {
            initializeSwipeableHeaderMenu();
            updateProfileElements();
            addSidebarBalanceToggle();
            addMainBalanceToggle();
            styleMemberStatusPanel();
            styleTogelTutorialPage();
            initializeTogelCarousel();
            
            const depositForm = document.querySelector('#deposit-form');
            if (depositForm) {
                initializeDepositForm(depositForm);
                updateDepositFormUI(depositForm);
            }
            
            styleWithdrawForm();
            styleRtpModal();
            
            document.querySelectorAll('input[type="password"]:not([data-toggle-added="true"])').forEach(input => {
                addPasswordToggle(input);
            });

            styleBettingPage(); 
            styleQuickLogin();
            styleLoginPage();
            styleRegisterPage(); 
            styleProfilePage();
            styleLogoutButton();
            styleChangePasswordPage(); // [PEMANGGILAN FUNGSI BARU]
        };
        
        observer = new MutationObserver(observerCallback);
        observer.observe(document.body, { childList: true, subtree: true });
        
        observerCallback(); 
        
        document.body.addEventListener('change', (event) => {
            if (event.target.id === 'agentmemberbankid') {
                const receiverBankSpan = document.getElementById('receiver-bank');
                if (receiverBankSpan) delete receiverBankSpan.dataset.iconApplied;
            }
        });
        
        const sidebar = document.getElementById("sidebar");
        if (sidebar) {
            const toggleButton = document.getElementById("custom-sidebar-toggle");
            const toggleObserver = new MutationObserver(() => {
                if (toggleButton) {
                    sidebar.classList.contains("active") ? toggleButton.classList.add("show") : toggleButton.classList.remove("show");
                }
            });
            toggleObserver.observe(sidebar, { attributes: true, attributeFilter: ['class'] });
        }
    });
})();